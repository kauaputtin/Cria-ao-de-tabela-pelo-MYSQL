CREATE DATABASE HOSPITAL;
USE HOSPITAL;

CREATE TABLE IF NOT EXISTS PACIENTES(
CPF_PACIENTE VARCHAR(15) PRIMARY KEY,
NOME VARCHAR(45) NOT NULL,
DATA_NASC DATE NOT NULL,
TELEFONE VARCHAR(45) NOT NULL,
EMAIL VARCHAR(45));

INSERT INTO PACIENTES (CPF_PACIENTE,NOME,DATA_NASCIMENTO,TELEFONE,EMAIL)
VALUES
("111.111.111-22","PAULO","1980-12-05","+552799991111","PAULO@GMAIL.COM"),
("222.222.222-22","PEDRO","1970-12-04","+552799992222","PEDRO@GMAIL.COM"),
("333.333.333-22","LUCAS","1960-12-03","+552799993333","LUCAS@GMAIL.COM");

CREATE TABLE IF NOT EXISTS DEPARTAMENTOS(
COD_ESPECIALIDADE INT PRIMARY KEY,
NOME_ESPECIALIDADE VARCHAR(45));

INSERT INTO PACIENTES (COD_ESPECIALIDADES,NOME_ESPECIALIDADE)
VALUES
(1, "PEDIATRA"),
(2, "GINECOLOGISTA"),
(3, "CARDIOLOGISTA");

CREATE TABLE IF NOT EXISTS MEDICOS(
CRM INT,
UF CHAR(2),
PRIMARY KEY(CRM,UF),
NOME VARCHAR(45) NOT NULL,
EMAIL VARCHAR(45) NOT NULL,
TELEFONE VARCHAR(45) NOT NULL,
DEPTO_COD_ESPEC INT NOT NULL,
CONSTRAINT DEPTO_MED FOREIGN KEY(DEPTO_COD_ESPEC)REFERENCES DEPARTAMENTOS(COD_ESPECIALIDADE));

INSERT INTO MEDICOS
(CRM,UF,NOME,EMAIL,TELEFONE,DEPTO_COD_ESPEC)
VALUES
(1,"ES","HENRIQUE","HENRIQUE@GMAIL.COM","+552799991111", 1),
(2,"ES","KAUA","KAUA@GMAIL.COM","+552799992222", 2),
(3,"ES","RAFAEL","RAFAEL@GMAIL.COM","+552799993333", 3);


CREATE TABLE IF NOT EXISTS CONSULTAS(
ID_CONSULTA INT PRIMARY KEY,
ANAMNESE TEXT NOT NULL,
DATA_CONS DATE NOT NULL,
HORA_CONS TIME NOT NULL,
CRM INT NOT NULL,
UF CHAR(2) NOT NULL,
CPF_PACIENTE VARCHAR(15) NOT NULL,
CONSTRAINT MED_CONS FOREIGN KEY(CRM,UF) REFERENCES MEDICOS(CRM,UF),
CONSTRAINT PAC_CONS FOREIGN KEY(CPF_PACIENTE)REFERENCES PACIENTES(CPF_PACIENTE));

INSERT INTO CONSULTAS (ID_CONSULTA,ANAMNESE,DATA_CONS,HORA_CONS,CRM,UF,CPF_PACIENTE)
VALUES
("111","COLICA","05/20","11:00PM","1111","ES","111.111.111-22"),
("222","DOR_DE_CABECA","05/19","10:00PM","2222","RJ","222.222.222-22"),
("333","FEBRE","05/18","09:00PM","3333","SP","333.333.333-22");